# Mycoriza CLI.

Mycoriza provides a CLI to generate to the boilerplate and collect necessary configurations. The `updateApi` task 
generated by the `Mycoriza cra template` uses the CLI under the hood.

The CLI currently contains following commands.

## `generate:api` command.

The `generate:api` command is provided by the `mycoriza-cli` tool. This command is supposed to,
### 1. Collect the configurations if not configured.

In the first time usage, the command prompts following questions to collect the necessary configurations.
1. **What is the OpenAPI specification url?**:
This specification url is used to fetch the OpenAPI documentation.

2. **What is the development base url?**: 
The development base url is used in the development environment to connect to the server. The first entry in the `server`
configuration is used as the default development base url.

3. **What is the production base url?**:
The production base url is the base url used in production build. Usually, in production environments the REST API is
configured within the same domain. To use the same domain as the production base url, keep the value empty.

The collected information are saved in the `mycoriza` property in `package.json`. 

### 2. Fetch API documentation.

The command fetches the specification and prepare for the command generation.

### 3. Generate client code and tests.

The client code generated is saved in `<project-root>/src/api`. The code generated contains,
1. domain types
2. hooks,
3. stubs for the testing.

### Usage
`generate:api` command is used in the `updateApi` generated npm action alongside the documentation generation.
Mycoriza uses `typedoc` to generate the documentation and the dependencies should have been added to the `package.json`
under devDependencies. 

The documentation is saved in `<project-root>/docs/api`. It includes the generated data types, hooks and the stub related
documentations.

!!! bug 
    While the documentation is generated, if the code is not compiling it does not generate the documentation.
    This is a known issue and currently fix is underway.

!!! warning
    Mycoriza CLI provides another function called `enhance` and currently it is unstable. It is advised to not use this
    feature at the moment.
