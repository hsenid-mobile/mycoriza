
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/logo2.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.8">
    
    
      
        <title>Patterns and Best Practices - Mycoriza</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.24.1/themes/prism-okaidia.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#patterns-and-best-practices" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Mycoriza" class="md-header__button md-logo" aria-label="Mycoriza" data-md-component="logo">
      
  <img src="../assets/logo2-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mycoriza
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Patterns and Best Practices
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent=""  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_3">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hsenid-mobile/mycoriza" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Mycoriza" class="md-nav__button md-logo" aria-label="Mycoriza" data-md-component="logo">
      
  <img src="../assets/logo2-white.png" alt="logo">

    </a>
    Mycoriza
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hsenid-mobile/mycoriza" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migration-guide/" class="md-nav__link">
        Migrate an existing project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network-states/" class="md-nav__link">
        API Response Handling
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Patterns and Best Practices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Patterns and Best Practices
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#conditional-rendering-based-on-the-state" class="md-nav__link">
    Conditional rendering based on the state.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-rendering-within-jsx" class="md-nav__link">
    Conditional rendering within jsx.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eager-fetching" class="md-nav__link">
    Eager fetching.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup-upon-exit" class="md-nav__link">
    Cleanup upon exit.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hide-intermediate-pending-state" class="md-nav__link">
    Hide intermediate pending state.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefer-hook-for-each-necessary-component-over-pass-through-props" class="md-nav__link">
    Prefer hook for each necessary component over pass-through-props.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-entitykey-to-load-multiple-results-for-same-api" class="md-nav__link">
    Use entityKey to load multiple results for same api.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asynchronous-programming" class="md-nav__link">
    Asynchronous programming.
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-usage/" class="md-nav__link">
        CLI Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-test/" class="md-nav__link">
        Testing Components
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        Basic Concepts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#conditional-rendering-based-on-the-state" class="md-nav__link">
    Conditional rendering based on the state.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-rendering-within-jsx" class="md-nav__link">
    Conditional rendering within jsx.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eager-fetching" class="md-nav__link">
    Eager fetching.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup-upon-exit" class="md-nav__link">
    Cleanup upon exit.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hide-intermediate-pending-state" class="md-nav__link">
    Hide intermediate pending state.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefer-hook-for-each-necessary-component-over-pass-through-props" class="md-nav__link">
    Prefer hook for each necessary component over pass-through-props.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-entitykey-to-load-multiple-results-for-same-api" class="md-nav__link">
    Use entityKey to load multiple results for same api.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asynchronous-programming" class="md-nav__link">
    Asynchronous programming.
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="patterns-and-best-practices">Patterns and Best Practices.</h1>
<p>Throughout our usage of this framework, we have identified several patterns which can be used with the networks state.</p>
<h2 id="conditional-rendering-based-on-the-state">Conditional rendering based on the state.</h2>
<p>You can explicitly return the content based on the state. This allows more control over the component rendering as each
content to be returned is explicit.</p>
<div class="highlight"><pre><span></span><code>import {isError, isPending, isSuccess} from &quot;mycoriza-runtime&quot;;

function MyComponent() {
    const [state] = useYoutGeneratedHook()

    if (isInit(state)) {
        return &lt;InitContent/&gt;
    }

    if (isPending(state)) {
        return &lt;Loading/&gt;
    }

    if (isError(state)) {
        return &lt;ErrorContent error={state.error}/&gt;
    }

    return &lt;SuccessContent data={state.data} /&gt;;
}
</code></pre></div>
<h2 id="conditional-rendering-within-jsx">Conditional rendering within jsx.</h2>
<p>In cases where only one of the states makes sense, it can be used as follows. In here <code>isSuccess()</code> acts as a boolean 
result generator.</p>
<div class="highlight"><pre><span></span><code>import {isSuccess} from &quot;mycoriza-runtime&quot;;

function MyComponent() {
    const [state] = useYoutGeneratedHook()

    return &lt;div&gt;
        {isSuccess(state) &amp;&amp; &lt;SuccessContent data={state.data}/&gt;}
    &lt;/div&gt;;
}
</code></pre></div>
<h2 id="eager-fetching">Eager fetching.</h2>
<p>In some cases the data should be fetched as soon as the component is loaded. We can use <code>useEffect</code> hook to emmulate this
functionality.</p>
<div class="highlight"><pre><span></span><code>import {isSuccess} from &quot;mycoriza-runtime&quot;;
import {useEffect} from &quot;react&quot;;

function MyComponent() {
    const [state, fetchData] = useYoutGeneratedHook()

    useEffect(() =&gt; {
        fetchData()
    }, [])

    return &lt;div&gt;
        {isSuccess(state) &amp;&amp; &lt;SuccessContent data={state.data}/&gt;}
    &lt;/div&gt;;
}
</code></pre></div>
<h2 id="cleanup-upon-exit">Cleanup upon exit.</h2>
<p>In some cases the stale data may affect the future of the application flow. For an example stale product in a 
product page may result a flashy view of the stale product before loading the correct page. To prevent such situations, 
the cleanup function can be used to cleanup the state.</p>
<div class="highlight"><pre><span></span><code>import {isSuccess} from &quot;mycoriza-runtime&quot;;
import {useEffect} from &quot;react&quot;;

function MyComponent() {
    const [state, fetchData, clear] = useYoutGeneratedHook()

    //Execute fetchData whenever you need.

    useEffect(() =&gt; {
        return clear;
    }, [])

    return &lt;div&gt;
        {isSuccess(state) &amp;&amp; &lt;SuccessContent data={state.data}/&gt;}
    &lt;/div&gt;;
}
</code></pre></div>
<p>Upon component unload, above code will clear the relevant network state in the application.</p>
<h2 id="hide-intermediate-pending-state">Hide intermediate pending state.</h2>
<p>In some cases, showing a loader for intermediate data fetching is unnecessary. For an example
it is weird to see a loader while searching and filter a list in a list page. To handle such scenarios
the network state can be locally cached.</p>
<div class="highlight"><pre><span></span><code>import {isSuccess, isPending, isError} from &quot;mycoriza-runtime&quot;;
import {useEffect} from &quot;react&quot;;

function MyComponent() {
    const [networkState, fetchData, clear] = useYoutGeneratedHook()
    const [state, setState] = useState&lt;NetworkState&lt;unknown&gt;&gt;(networkState)

    //Execute fetchData whenever you need.

    useEffect(() =&gt; {
        if (!isPending(networkState)) {
            setState(networkState)
        }
    }, [networkState]);

    return &lt;div&gt;
        {isSuccess(state) &amp;&amp; &lt;SuccessContent data={state.data}/&gt;}
        {isError(state) &amp;&amp; &lt;Error error={state.error}/&gt;}
    &lt;/div&gt;;
}
</code></pre></div>
<h2 id="prefer-hook-for-each-necessary-component-over-pass-through-props">Prefer hook for each necessary component over pass-through-props.</h2>
<p>As the network state adds additional wrapper over original data, naturally developers tend to unwrap the state 
and pass through the props. This leads component coupling. If you feel like your component is an <strong>independent component</strong>,
do not pass the content as props.</p>
<div class="admonition warning">
<p class="admonition-title">Coupled code</p>
<p>Following code is too coupled</p>
</div>
<div class="highlight"><pre><span></span><code>import {isSuccess} from &quot;mycoriza-runtime&quot;;

interface ComponentAProps {
    data: any
}

//This component contains a dependency and coupled with ComponentB.
function ComponentA({data}: ComponentAProps) {
    return &lt;&gt;{JSON.stringify(data)}&lt;/&gt;
}

function ComponentB() {
    const [state] = useYoutGeneratedHook()
    return &lt;&gt;
        {isSuccess(state) &amp;&amp; &lt;ComponentA data={state.data}/&gt; }
    &lt;/&gt;
}
</code></pre></div>
<div class="admonition success">
<p class="admonition-title">Independent code</p>
<p>Following components are independent.</p>
</div>
<div class="highlight"><pre><span></span><code>import {isSuccess} from &quot;mycoriza-runtime&quot;;

//This component is independent and can be used anyware it is needed.
function ComponentA() {
    const [state] = useYoutGeneratedHook()
    return &lt;&gt;{isSuccess(state) &amp;&amp; JSON.stringify(state.data)}&lt;/&gt;
}

function ComponentB() {
    const [state] = useYoutGeneratedHook()
    return &lt;&gt;{isSuccess(state) &amp;&amp; &lt;ComponentA/&gt; }&lt;/&gt;
}
</code></pre></div>
<p>However, if you are developing a component which is not exposed outside the module and does not have any intention of
reusing, first code is good.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>From <code>v0.0.8</code> onward a new helper hook is introduced to unwrap the network state.
refer <a href="/network-states/#useasnullable-hook"><code>useAsNullable</code> hook</a> for the usage and information.</p>
</div>
<h2 id="use-entitykey-to-load-multiple-results-for-same-api">Use <code>entityKey</code> to load multiple results for same api.</h2>
<p>In some cases we need to keep different results for the same API call simultaneously. Mycoriza provides the inbuilt 
support for this. In the generated hooks, first parameter is an entity key, by adding a unique entity key, you can keep
different results at the same time.</p>
<div class="highlight"><pre><span></span><code>import {isSuccess} from &quot;mycoriza-runtime&quot;;
import {useEffect} from &quot;react&quot;;

function MyComponent() {
    const [product1State, fetchProduct1] = useFetchProduct(&quot;product-id-1&quot;)
    const [product2State, fetchProduct2] = useFetchProduct(&quot;product-id-2&quot;)

    useEffect(() =&gt; {
        fetchProduct1({id: &quot;product-id-1&quot;})
        fetchProduct2({id: &quot;product-id-2&quot;})
    }, [])

    return &lt;div&gt;
        {isSuccess(product1State) &amp;&amp; &lt;ProductView data={product1State.data}/&gt;}
        {isSuccess(product2State) &amp;&amp; &lt;ProductView data={product2State.data}/&gt;}
    &lt;/div&gt;;
}
</code></pre></div>
<h2 id="asynchronous-programming">Asynchronous programming.</h2>
<p>Javascript introduced <code>async</code>/<code>await</code> syntax to write the asynchronous logics in more readable manner. Under the hood,
it uses javascript promises. The <a href="/network-states/#useaspromise-hook"><code>useAsPromise</code> hook</a> can be used to make the NetworkHooks
more compatible with asynchronous programming by converting Natwork State and fetcher function to a promise function.</p>
<div class="highlight"><pre><span></span><code>import {useEffect} from &quot;react&quot;;
import {useAsPromise} from &quot;mycoriza-runtime&quot;;

function MyComponent() {
    const updateProduct = useAsPromise(useUpdateProduct())

    async function update(data: any) {
        //TODO process data;

        let result = await updateProduct(data)

        //TODO do something with result

    }

    return &lt;&gt;
        {/* ... */}
        &lt;button onClick={() =&gt; update({/* data goes here */})}&gt;Update&lt;/button&gt;
    &lt;/&gt;
}
</code></pre></div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../network-states/" class="md-footer__link md-footer__link--prev" aria-label="Previous: API Response Handling" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              API Response Handling
            </div>
          </div>
        </a>
      
      
        
        <a href="../cli-usage/" class="md-footer__link md-footer__link--next" aria-label="Next: CLI Usage" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              CLI Usage
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      MIT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["header.autohide", "navigation.sections"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.0238f547.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.24.1/prism.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
      
    
  </body>
</html>